(function(l){var W='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',tt={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",rtl:!1,multiColor:null,onInit:null,onChange:null,onSet:null,starSvg:null},A={startColor:"#c0392b",endColor:"#f1c40f"};function nt(){var a=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}function O(a,t,o){return a===t?a=t:a===o&&(a=o),a}function at(a,t,o){var i=a>=t&&a<=o;if(!i)throw Error("Invalid Rating, expected value between "+t+" and "+o);return a}function x(a){return typeof a<"u"}var M=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,T=function(a){if(!M.test(a))return null;var t=M.exec(a),o=parseInt(t[1],16),i=parseInt(t[2],16),s=parseInt(t[3],16);return{r:o,g:i,b:s}};function I(a,t,o){var i=(t-a)*(o/100);return i=Math.round(a+i).toString(16),i.length===1&&(i="0"+i),i}function et(a,t,o){if(!a||!t)return null;o=x(o)?o:0,a=T(a),t=T(t);var i=I(a.r,t.r,o),s=I(a.b,t.b,o),p=I(a.g,t.g,o);return"#"+i+p+s}function S(a,t){this.node=a.get(0);var o=this;a.empty().addClass("jq-ry-container");var i=l("<div/>").addClass("jq-ry-group-wrapper").appendTo(a),s=l("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(i),p=l("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(i),c,y,g,f,m,h,w=0,v=t.rating,Y=!1;function b(n){x(n)||(n=t.rating),v=n;var e=n/c,r=e*g;e>1&&(r+=(Math.ceil(e)-1)*m),z(t.ratedFill),r=t.rtl?100-r:r,r<0?r=0:r>100&&(r=100),p.css("width",r+"%")}function _(){h=y*t.numStars+f*(t.numStars-1),g=y/h*100,m=f/h*100,a.width(h),b()}function B(n){var e=t.starWidth=n;return y=window.parseFloat(t.starWidth.replace("px","")),s.find("svg").attr({width:t.starWidth,height:e}),p.find("svg").attr({width:t.starWidth,height:e}),_(),a}function L(n){return t.spacing=n,f=parseFloat(t.spacing.replace("px","")),s.find("svg:not(:first-child)").css({"margin-left":n}),p.find("svg:not(:first-child)").css({"margin-left":n}),_(),a}function V(n){t.normalFill=n;var e=(t.rtl?p:s).find("svg");return e.attr({fill:t.normalFill}),a}var N=t.ratedFill;function z(n){if(t.multiColor){var e=v-w,r=e/t.maxValue*100,d=t.multiColor||{},k=d.startColor||A.startColor,F=d.endColor||A.endColor;n=et(k,F,r)}else N=n;t.ratedFill=n;var u=(t.rtl?s:p).find("svg");return u.attr({fill:t.ratedFill}),a}function Q(n){n=!!n,t.rtl=n,V(t.normalFill),b()}function lt(n){t.multiColor=n,z(n||N)}function X(n){t.numStars=n,c=t.maxValue/t.numStars,s.empty(),p.empty();for(var e=0;e<t.numStars;e++)s.append(l(t.starSvg||W)),p.append(l(t.starSvg||W));return B(t.starWidth),V(t.normalFill),L(t.spacing),b(),a}function $(n){return t.maxValue=n,c=t.maxValue/t.numStars,t.rating>n&&j(n),b(),a}function st(n){return t.precision=n,j(t.rating),a}function ct(n){return t.halfStar=n,a}function ut(n){return t.fullStar=n,a}function pt(n){var e=n%c,r=c/2,d=t.halfStar,k=t.fullStar;return!k&&!d||(k||d&&e>r?n+=c-e:(n=n-e,e>0&&(n+=r))),n}function D(n){var e=s.offset(),r=e.left,d=r+s.width(),k=t.maxValue,F=n.pageX,u=0;if(F<r)u=w;else if(F>d)u=k;else{var E=(F-r)/(d-r);if(f>0){E*=100;for(var C=E;C>0;)C>g?(u+=c,C-=g+m):(u+=C/g*c,C=0)}else u=E*t.maxValue;u=pt(u)}return t.rtl&&(u=k-u),parseFloat(u)}function G(n){return t.readOnly=n,a.attr("readonly",!0),Z(),n||(a.removeAttr("readonly"),mt()),a}function j(n){var e=n,r=t.maxValue;return typeof e=="string"&&(e[e.length-1]==="%"&&(e=e.substr(0,e.length-1),r=100,$(r)),e=parseFloat(e)),at(e,w,r),e=parseFloat(e.toFixed(t.precision)),O(parseFloat(e),w,r),t.rating=e,b(),Y&&a.trigger("rateyo.set",{rating:e}),a}function ft(n){return t.onInit=n,a}function dt(n){return t.onSet=n,a}function gt(n){return t.onChange=n,a}this.rating=function(n){return x(n)?(j(n),a):t.rating},this.destroy=function(){return t.readOnly||Z(),S.prototype.collection=rt(a.get(0),this.collection),a.removeClass("jq-ry-container").children().remove(),a},this.method=function(n){if(!n)throw Error("Method name not specified!");if(!x(this[n]))throw Error("Method "+n+" doesn't exist!");var e=Array.prototype.slice.apply(arguments,[]),r=e.slice(1),d=this[n];return d.apply(this,r)},this.option=function(n,e){if(!x(n))return t;var r;switch(n){case"starWidth":r=B;break;case"numStars":r=X;break;case"normalFill":r=V;break;case"ratedFill":r=z;break;case"multiColor":r=lt;break;case"maxValue":r=$;break;case"precision":r=st;break;case"rating":r=j;break;case"halfStar":r=ct;break;case"fullStar":r=ut;break;case"readOnly":r=G;break;case"spacing":r=L;break;case"rtl":r=Q;break;case"onInit":r=ft;break;case"onSet":r=dt;break;case"onChange":r=gt;break;default:throw Error("No such option as "+n)}return x(e)?r(e):t[n]};function q(n){var e=D(n).toFixed(t.precision),r=t.maxValue;e=O(parseFloat(e),w,r),b(e),a.trigger("rateyo.change",{rating:e})}function H(){nt()||(b(),a.trigger("rateyo.change",{rating:t.rating}))}function J(n){var e=D(n).toFixed(t.precision);e=parseFloat(e),o.rating(e)}function K(n,e){t.onInit&&typeof t.onInit=="function"&&t.onInit.apply(this,[e.rating,o])}function P(n,e){t.onChange&&typeof t.onChange=="function"&&t.onChange.apply(this,[e.rating,o])}function U(n,e){t.onSet&&typeof t.onSet=="function"&&t.onSet.apply(this,[e.rating,o])}function mt(){a.on("mousemove",q).on("mouseenter",q).on("mouseleave",H).on("click",J).on("rateyo.init",K).on("rateyo.change",P).on("rateyo.set",U)}function Z(){a.off("mousemove",q).off("mouseenter",q).off("mouseleave",H).off("click",J).off("rateyo.init",K).off("rateyo.change",P).off("rateyo.set",U)}X(t.numStars),G(t.readOnly),t.rtl&&Q(t.rtl),this.collection.push(this),this.rating(t.rating,!0),Y=!0,a.trigger("rateyo.init",{rating:t.rating})}S.prototype.collection=[];function R(a,t){var o;return l.each(t,function(){if(a===this.node)return o=this,!1}),o}function rt(a,t){return l.each(t,function(o){if(a===this.node){var i=t.slice(0,o),s=t.slice(o+1,t.length);return t=i.concat(s),!1}}),t}function ot(a){var t=S.prototype.collection,o=l(this);if(o.length===0)return o;var i=Array.prototype.slice.apply(arguments,[]);if(i.length===0)a=i[0]={};else if(i.length===1&&typeof i[0]=="object")a=i[0];else if(i.length>=1&&typeof i[0]=="string"){var s=i[0],p=i.slice(1),c=[];return l.each(o,function(y,g){var f=R(g,t);if(!f)throw Error("Trying to set options before even initialization");var m=f[s];if(!m)throw Error("Method "+s+" does not exist!");var h=m.apply(f,p);c.push(h)}),c=c.length===1?c[0]:c,c}else throw Error("Invalid Arguments");return a=l.extend({},tt,a),l.each(o,function(){var y=R(this,t);if(y)return y;var g=l(this),f={},m=l.extend({},a);return l.each(g.data(),function(h,w){if(h.indexOf("rateyo")===0){var v=h.replace(/^rateyo/,"");v=v[0].toLowerCase()+v.slice(1),f[v]=w,delete m[v]}}),new S(l(this),l.extend({},f,m))})}function it(){return ot.apply(this,Array.prototype.slice.apply(arguments,[]))}window.RateYo=S,l.fn.rateYo=it})(window.jQuery);
