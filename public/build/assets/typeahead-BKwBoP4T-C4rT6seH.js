import{u as E}from"./_commonjsHelpers-BosuxZz1-D7mXbCtF.js";import{B as L}from"./jquery-Czc5UB_B-CMRrqkI0.js";var H={exports:{}};/*!
* typeahead.js 0.11.1
* https://github.com/twitter/typeahead.js
* Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
*/(function(q,O){(function(p,h){q.exports=h(L())})(E,function(p){var h=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(i){return!i||/^\s*$/.test(i)},escapeRegExChars:function(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(i){return typeof i=="string"},isNumber:function(i){return typeof i=="number"},isArray:p.isArray,isFunction:p.isFunction,isObject:p.isPlainObject,isUndefined:function(i){return typeof i>"u"},isElement:function(i){return!!(i&&i.nodeType===1)},isJQuery:function(i){return i instanceof p},toStr:function(i){return h.isUndefined(i)||i===null?"":i+""},bind:p.proxy,each:function(i,u){p.each(i,e);function e(s,r){return u(r,s)}},map:p.map,filter:p.grep,every:function(i,u){var e=!0;return i?(p.each(i,function(s,r){if(!(e=u.call(null,r,s,i)))return!1}),!!e):e},some:function(i,u){var e=!1;return i?(p.each(i,function(s,r){if(e=u.call(null,r,s,i))return!1}),!!e):e},mixin:p.extend,identity:function(i){return i},clone:function(i){return p.extend(!0,{},i)},getIdGenerator:function(){var i=0;return function(){return i++}},templatify:function(i){return p.isFunction(i)?i:u;function u(){return String(i)}},defer:function(i){setTimeout(i,0)},debounce:function(i,u,e){var s,r;return function(){var t=this,n=arguments,a,o;return a=function(){s=null,e||(r=i.apply(t,n))},o=e&&!s,clearTimeout(s),s=setTimeout(a,u),o&&(r=i.apply(t,n)),r}},throttle:function(i,u){var e,s,r,t,n,a;return n=0,a=function(){n=new Date,r=null,t=i.apply(e,s)},function(){var o=new Date,c=u-(o-n);return e=this,s=arguments,c<=0?(clearTimeout(r),r=null,n=o,t=i.apply(e,s)):r||(r=setTimeout(a,c)),t}},stringify:function(i){return h.isString(i)?i:JSON.stringify(i)},noop:function(){}}}(),k="0.11.1",C=function(){return{nonword:u,whitespace:i,obj:{nonword:e(u),whitespace:e(i)}};function i(s){return s=h.toStr(s),s?s.split(/\s+/):[]}function u(s){return s=h.toStr(s),s?s.split(/\W+/):[]}function e(s){return function(r){return r=h.isArray(r)?r:[].slice.call(arguments,0),function(t){var n=[];return h.each(r,function(a){n=n.concat(s(h.toStr(t[a])))}),n}}}}(),_=function(){function i(s){this.maxSize=h.isNumber(s)?s:100,this.reset(),this.maxSize<=0&&(this.set=this.get=p.noop)}h.mixin(i.prototype,{set:function(s,r){var t=this.list.tail,n;this.size>=this.maxSize&&(this.list.remove(t),delete this.hash[t.key],this.size--),(n=this.hash[s])?(n.val=r,this.list.moveToFront(n)):(n=new e(s,r),this.list.add(n),this.hash[s]=n,this.size++)},get:function(s){var r=this.hash[s];if(r)return this.list.moveToFront(r),r.val},reset:function(){this.size=0,this.hash={},this.list=new u}});function u(){this.head=this.tail=null}h.mixin(u.prototype,{add:function(s){this.head&&(s.next=this.head,this.head.prev=s),this.head=s,this.tail=this.tail||s},remove:function(s){s.prev?s.prev.next=s.next:this.head=s.next,s.next?s.next.prev=s.prev:this.tail=s.prev},moveToFront:function(s){this.remove(s),this.add(s)}});function e(s,r){this.key=s,this.val=r,this.prev=this.next=null}return i}(),$=function(){var i;try{i=window.localStorage,i.setItem("~~~","!"),i.removeItem("~~~")}catch{i=null}function u(n,a){this.prefix=["__",n,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+h.escapeRegExChars(this.prefix)),this.ls=a||i,!this.ls&&this._noop()}return h.mixin(u.prototype,{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=h.noop},_safeSet:function(n,a){try{this.ls.setItem(n,a)}catch(o){o.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(n){return this.isExpired(n)&&this.remove(n),r(this.ls.getItem(this._prefix(n)))},set:function(n,a,o){return h.isNumber(o)?this._safeSet(this._ttlKey(n),s(e()+o)):this.ls.removeItem(this._ttlKey(n)),this._safeSet(this._prefix(n),s(a))},remove:function(n){return this.ls.removeItem(this._ttlKey(n)),this.ls.removeItem(this._prefix(n)),this},clear:function(){var n,a=t(this.keyMatcher);for(n=a.length;n--;)this.remove(a[n]);return this},isExpired:function(n){var a=r(this.ls.getItem(this._ttlKey(n)));return!!(h.isNumber(a)&&e()>a)}}),u;function e(){return new Date().getTime()}function s(n){return JSON.stringify(h.isUndefined(n)?null:n)}function r(n){return p.parseJSON(n)}function t(n){var a,o,c=[],l=i.length;for(a=0;a<l;a++)(o=i.key(a)).match(n)&&c.push(o.replace(n,""));return c}}(),w=function(){var i=0,u={},e=6,s=new _(10);function r(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new _(0):s}return r.setMaxPendingRequests=function(t){e=t},r.resetCache=function(){s.reset()},h.mixin(r.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+p.param(t.data||{})},_get:function(t,n){var a=this,o,c;if(o=this._fingerprint(t),this.cancelled||o!==this.lastReq)return;(c=u[o])?c.done(l).fail(d):i<e?(i++,u[o]=this._send(t).done(l).fail(d).always(g)):this.onDeckRequestArgs=[].slice.call(arguments,0);function l(m){n(null,m),a._cache.set(o,m)}function d(){n(!0)}function g(){i--,delete u[o],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)}},get:function(t,n){var a,o;n=n||p.noop,t=h.isString(t)?{url:t}:t||{},o=this._fingerprint(t),this.cancelled=!1,this.lastReq=o,(a=this._cache.get(o))?n(null,a):this._get(t,n)},cancel:function(){this.cancelled=!0}}),r}(),A=window.SearchIndex=function(){var i="c",u="i";function e(a){a=a||{},(!a.datumTokenizer||!a.queryTokenizer)&&p.error("datumTokenizer and queryTokenizer are both required"),this.identify=a.identify||h.stringify,this.datumTokenizer=a.datumTokenizer,this.queryTokenizer=a.queryTokenizer,this.reset()}return h.mixin(e.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var o=this;a=h.isArray(a)?a:[a],h.each(a,function(c){var l,d;o.datums[l=o.identify(c)]=c,d=s(o.datumTokenizer(c)),h.each(d,function(g){var m,y,v;for(m=o.trie,y=g.split("");v=y.shift();)m=m[i][v]||(m[i][v]=r()),m[u].push(l)})})},get:function(a){var o=this;return h.map(a,function(c){return o.datums[c]})},search:function(a){var o=this,c,l;return c=s(this.queryTokenizer(a)),h.each(c,function(d){var g,m,y,v;if(l&&l.length===0)return!1;for(g=o.trie,m=d.split("");g&&(y=m.shift());)g=g[i][y];if(g&&m.length===0)v=g[u].slice(0),l=l?n(l,v):v;else return l=[],!1}),l?h.map(t(l),function(d){return o.datums[d]}):[]},all:function(){var a=[];for(var o in this.datums)a.push(this.datums[o]);return a},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e;function s(a){return a=h.filter(a,function(o){return!!o}),a=h.map(a,function(o){return o.toLowerCase()}),a}function r(){var a={};return a[u]=[],a[i]={},a}function t(a){for(var o={},c=[],l=0,d=a.length;l<d;l++)o[a[l]]||(o[a[l]]=!0,c.push(a[l]));return c}function n(a,o){var c=0,l=0,d=[];a=a.sort(),o=o.sort();for(var g=a.length,m=o.length;c<g&&l<m;)a[c]<o[l]?c++:(a[c]>o[l]||(d.push(a[c]),c++),l++);return d}}(),b=function(){var i;i={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function u(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new $(e.cacheKey)}return h.mixin(u.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(i.data,e,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e={},s;return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),s=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!s?e.data:null):null},fromNetwork:function(e){var s=this,r;if(!e)return;r=this.prepare(this._settings()),this.transport(r).fail(t).done(n);function t(){e(!0)}function n(a){e(null,s.transform(a))}},clear:function(){return this.storage.clear(),this}}),u}(),T=function(){function i(u){this.url=u.url,this.prepare=u.prepare,this.transform=u.transform,this.transport=new w({cache:u.cache,limiter:u.limiter,transport:u.transport})}return h.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(u,e){var s=this,r;if(!e)return;return u=u||"",r=this.prepare(u,this._settings()),this.transport.get(r,t);function t(n,a){e(n?[]:s.transform(a))}},cancelLastRequest:function(){this.transport.cancel()}}),i}(),D=function(){return function(t){var n,a;return n={initialize:!0,identify:h.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},t=h.mixin(n,t||{}),!t.datumTokenizer&&p.error("datumTokenizer is required"),!t.queryTokenizer&&p.error("queryTokenizer is required"),a=t.sorter,t.sorter=a?function(o){return o.sort(a)}:h.identity,t.local=h.isFunction(t.local)?t.local():t.local,t.prefetch=i(t.prefetch),t.remote=u(t.remote),t};function i(t){var n;return t?(n={url:null,ttl:24*60*60*1e3,cache:!0,cacheKey:null,thumbprint:"",prepare:h.identity,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,t=h.mixin(n,t),!t.url&&p.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=k+t.thumbprint,t.transport=t.transport?r(t.transport):p.ajax,t):null}function u(t){var n;if(t)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,t=h.mixin(n,t),!t.url&&p.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=e(t),t.limiter=s(t),t.transport=t.transport?r(t.transport):p.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function e(t){var n,a,o;if(n=t.prepare,a=t.replace,o=t.wildcard,n)return n;return a?n=c:t.wildcard?n=l:n=d,n;function c(g,m){return m.url=a(m.url,g),m}function l(g,m){return m.url=m.url.replace(o,encodeURIComponent(g)),m}function d(g,m){return m}}function s(t){var n,a,o;return n=t.limiter,a=t.rateLimitBy,o=t.rateLimitWait,n||(n=/^throttle$/i.test(a)?l(o):c(o)),n;function c(d){return function(g){return h.debounce(g,d)}}function l(d){return function(g){return h.throttle(g,d)}}}function r(t){return function(n){var a=p.Deferred();return t(n,o,c),a;function o(l){h.defer(function(){a.resolve(l)})}function c(l){h.defer(function(){a.reject(l)})}}}}(),f=function(){var i;i=window&&window.Bloodhound;function u(e){e=D(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new T(e.remote):null,this.prefetch=e.prefetch?new b(e.prefetch):null,this.index=new A({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}return u.noConflict=function(){return window&&(window.Bloodhound=i),u},u.tokenizers=C,h.mixin(u.prototype,{__ttAdapter:function(){var e=this;return this.remote?s:r;function s(t,n,a){return e.search(t,n,a)}function r(t,n){return e.search(t,n)}},_loadPrefetch:function(){var e=this,s,r;return s=p.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),s.resolve()):this.prefetch.fromNetwork(t):s.resolve(),s.promise();function t(n,a){if(n)return s.reject();e.add(a),e.prefetch.store(e.index.serialize()),s.resolve()}},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(s),this.initPromise;function s(){e.add(e.local)}},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=h.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,s,r){var t=this,n;return n=this.sorter(this.index.search(e)),s(this.remote?n.slice():n),this.remote&&n.length<this.sufficient?this.remote.get(e,a):this.remote&&this.remote.cancelLastRequest(),this;function a(o){var c=[];h.each(o,function(l){!h.some(n,function(d){return t.identify(l)===t.identify(d)})&&c.push(l)}),r&&r(c)}},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return w.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),u}();return f}),function(p,h){q.exports=h(L())}(E,function(p){var h=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(f){return!f||/^\s*$/.test(f)},escapeRegExChars:function(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(f){return typeof f=="string"},isNumber:function(f){return typeof f=="number"},isArray:p.isArray,isFunction:p.isFunction,isObject:p.isPlainObject,isUndefined:function(f){return typeof f>"u"},isElement:function(f){return!!(f&&f.nodeType===1)},isJQuery:function(f){return f instanceof p},toStr:function(f){return h.isUndefined(f)||f===null?"":f+""},bind:p.proxy,each:function(f,i){p.each(f,u);function u(e,s){return i(s,e)}},map:p.map,filter:p.grep,every:function(f,i){var u=!0;return f?(p.each(f,function(e,s){if(!(u=i.call(null,s,e,f)))return!1}),!!u):u},some:function(f,i){var u=!1;return f?(p.each(f,function(e,s){if(u=i.call(null,s,e,f))return!1}),!!u):u},mixin:p.extend,identity:function(f){return f},clone:function(f){return p.extend(!0,{},f)},getIdGenerator:function(){var f=0;return function(){return f++}},templatify:function(f){return p.isFunction(f)?f:i;function i(){return String(f)}},defer:function(f){setTimeout(f,0)},debounce:function(f,i,u){var e,s;return function(){var r=this,t=arguments,n,a;return n=function(){e=null,u||(s=f.apply(r,t))},a=u&&!e,clearTimeout(e),e=setTimeout(n,i),a&&(s=f.apply(r,t)),s}},throttle:function(f,i){var u,e,s,r,t,n;return t=0,n=function(){t=new Date,s=null,r=f.apply(u,e)},function(){var a=new Date,o=i-(a-t);return u=this,e=arguments,o<=0?(clearTimeout(s),s=null,t=a,r=f.apply(u,e)):s||(s=setTimeout(n,o)),r}},stringify:function(f){return h.isString(f)?f:JSON.stringify(f)},noop:function(){}}}(),k=function(){var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i;function i(r){var t,n;return n=h.mixin({},f,r),t={css:s(),classes:n,html:u(n),selectors:e(n)},{css:t.css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(a){h.mixin(a,t)}}}function u(r){return{wrapper:'<span class="'+r.wrapper+'"></span>',menu:'<div class="'+r.menu+'"></div>'}}function e(r){var t={};return h.each(r,function(n,a){t[a]="."+n}),t}function s(){var r={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return h.isMsie()&&h.mixin(r.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),r}}(),C=function(){var f,i;f="typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function u(e){(!e||!e.el)&&p.error("EventBus initialized without el"),this.$el=p(e.el)}return h.mixin(u.prototype,{_trigger:function(e,s){var r;return r=p.Event(f+e),(s=s||[]).unshift(r),this.$el.trigger.apply(this.$el,s),r},before:function(e){var s,r;return s=[].slice.call(arguments,1),r=this._trigger("before"+e,s),r.isDefaultPrevented()},trigger:function(e){var s;this._trigger(e,[].slice.call(arguments,1)),(s=i[e])&&this._trigger(s,[].slice.call(arguments,1))}}),u}(),_=function(){var f=/\s+/,i=a();return{onSync:s,onAsync:e,off:r,trigger:t};function u(c,l,d,g){var m;if(!d)return this;for(l=l.split(f),d=g?o(d,g):d,this._callbacks=this._callbacks||{};m=l.shift();)this._callbacks[m]=this._callbacks[m]||{sync:[],async:[]},this._callbacks[m][c].push(d);return this}function e(c,l,d){return u.call(this,"async",c,l,d)}function s(c,l,d){return u.call(this,"sync",c,l,d)}function r(c){var l;if(!this._callbacks)return this;for(c=c.split(f);l=c.shift();)delete this._callbacks[l];return this}function t(c){var l,d,g,m,y;if(!this._callbacks)return this;for(c=c.split(f),g=[].slice.call(arguments,1);(l=c.shift())&&(d=this._callbacks[l]);)m=n(d.sync,this,[l].concat(g)),y=n(d.async,this,[l].concat(g)),m()&&i(y);return this}function n(c,l,d){return g;function g(){for(var m,y=0,v=c.length;!m&&y<v;y+=1)m=c[y].apply(l,d)===!1;return!m}}function a(){var c;return window.setImmediate?c=function(l){setImmediate(function(){l()})}:c=function(l){setTimeout(function(){l()},0)},c}function o(c,l){return c.bind?c.bind(l):function(){c.apply(l,[].slice.call(arguments,0))}}}(),$=function(f){var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){var s;if(e=h.mixin({},i,e),!e.node||!e.pattern)return;e.pattern=h.isArray(e.pattern)?e.pattern:[e.pattern],s=u(e.pattern,e.caseSensitive,e.wordsOnly),t(e.node,r);function r(n){var a,o,c;return(a=s.exec(n.data))&&(c=f.createElement(e.tagName),e.className&&(c.className=e.className),o=n.splitText(a.index),o.splitText(a[0].length),c.appendChild(o.cloneNode(!0)),n.parentNode.replaceChild(c,o)),!!a}function t(n,a){for(var o,c=3,l=0;l<n.childNodes.length;l++)o=n.childNodes[l],o.nodeType===c?l+=a(o)?1:0:t(o,a)}};function u(e,s,r){for(var t=[],n,a=0,o=e.length;a<o;a++)t.push(h.escapeRegExChars(e[a]));return n=r?"\\b("+t.join("|")+")\\b":"("+t.join("|")+")",s?new RegExp(n):new RegExp(n,"i")}}(window.document),w=function(){var f;f={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function i(r,t){r=r||{},r.input||p.error("input is missing"),t.mixin(this),this.$hint=p(r.hint),this.$input=p(r.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=u(this.$input),this._checkLanguageDirection(),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=h.noop)}return i.normalizeQuery=function(r){return h.toStr(r).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},h.mixin(i.prototype,_,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(r){var t=f[r.which||r.keyCode];this._managePreventDefault(t,r),t&&this._shouldTrigger(t,r)&&this.trigger(t+"Keyed",r)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(r,t){var n;switch(r){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(r,t){var n;switch(r){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var r=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==r&&(this.dir=r,this.$hint.attr("dir",r),this.trigger("langDirChanged",r))},_setQuery:function(r,t){var n,a;n=e(r,this.query),a=n?this.query.length!==r.length:!1,this.query=r,!t&&!n?this.trigger("queryChanged",this.query):!t&&a&&this.trigger("whitespaceChanged",this.query)},bind:function(){var r=this,t,n,a,o;return t=h.bind(this._onBlur,this),n=h.bind(this._onFocus,this),a=h.bind(this._onKeydown,this),o=h.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",a),!h.isMsie()||h.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(c){f[c.which||c.keyCode]||h.defer(h.bind(r._onInput,r,c))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(r,t){this.setInputValue(r),this._setQuery(r,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(r){this.$input.val(r),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(r){this.$hint.val(r)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var r,t,n,a;r=this.getInputValue(),t=this.getHint(),n=r!==t&&t.indexOf(r)===0,a=r!==""&&n&&!this.hasOverflow(),!a&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var r=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=r},isCursorAtEnd:function(){var r,t,n;return r=this.$input.val().length,t=this.$input[0].selectionStart,h.isNumber(t)?t===r:document.selection?(n=document.selection.createRange(),n.moveStart("character",-r),r===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=p("<div>")}}),i;function u(r){return p('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r)}function e(r,t){return i.normalizeQuery(r)===i.normalizeQuery(t)}function s(r){return r.altKey||r.ctrlKey||r.metaKey||r.shiftKey}}(),A=function(){var f,i;f={val:"tt-selectable-display",obj:"tt-selectable-object"},i=h.getIdGenerator();function u(t,n){t=t||{},t.templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||p.error("missing source"),t.node||p.error("missing node"),t.name&&!r(t.name)&&p.error("invalid dataset name: "+t.name),n.mixin(this),this.highlight=!!t.highlight,this.name=t.name||i(),this.limit=t.limit||5,this.displayFn=e(t.display||t.displayKey),this.templates=s(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=h.isUndefined(t.async)?this.source.length>2:!!t.async,this._resetLastSuggestion(),this.$el=p(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return u.extractData=function(t){var n=p(t);return n.data(f.obj)?{val:n.data(f.val)||"",obj:n.data(f.obj)||null}:null},h.mixin(u.prototype,_,{_overwrite:function(t,n){n=n||[],n.length?this._renderSuggestions(t,n):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,n,!1)},_append:function(t,n){n=n||[],n.length&&this.$lastSuggestion.length?this._appendSuggestions(t,n):n.length?this._renderSuggestions(t,n):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,n,!0)},_renderSuggestions:function(t,n){var a;a=this._getSuggestionsFragment(t,n),this.$lastSuggestion=a.children().last(),this.$el.html(a).prepend(this._getHeader(t,n)).append(this._getFooter(t,n))},_appendSuggestions:function(t,n){var a,o;a=this._getSuggestionsFragment(t,n),o=a.children().last(),this.$lastSuggestion.after(a),this.$lastSuggestion=o},_renderPending:function(t){var n=this.templates.pending;this._resetLastSuggestion(),n&&this.$el.html(n({query:t,dataset:this.name}))},_renderNotFound:function(t){var n=this.templates.notFound;this._resetLastSuggestion(),n&&this.$el.html(n({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(t,n){var a=this,o;return o=document.createDocumentFragment(),h.each(n,function(c){var l,d;d=a._injectQuery(t,c),l=p(a.templates.suggestion(d)).data(f.obj,c).data(f.val,a.displayFn(c)).addClass(a.classes.suggestion+" "+a.classes.selectable),o.appendChild(l[0])}),this.highlight&&$({className:this.classes.highlight,node:o,pattern:t}),p(o)},_getFooter:function(t,n){return this.templates.footer?this.templates.footer({query:t,suggestions:n,dataset:this.name}):null},_getHeader:function(t,n){return this.templates.header?this.templates.header({query:t,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=p()},_injectQuery:function(t,n){return h.isObject(n)?h.mixin({_query:t},n):n},update:function(t){var n=this,a=!1,o=!1,c=0;this.cancel(),this.cancel=function(){a=!0,n.cancel=p.noop,n.async&&n.trigger("asyncCanceled",t)},this.source(t,l,d),!o&&l([]);function l(g){o||(o=!0,g=(g||[]).slice(0,n.limit),c=g.length,n._overwrite(t,g),c<n.limit&&n.async&&n.trigger("asyncRequested",t))}function d(g){g=g||[],!a&&c<n.limit&&(n.cancel=p.noop,c+=g.length,n._append(t,g.slice(0,n.limit-c)),n.async&&n.trigger("asyncReceived",t))}},cancel:p.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=p("<div>")}}),u;function e(t){return t=t||h.stringify,h.isFunction(t)?t:n;function n(a){return a[t]}}function s(t,n){return{notFound:t.notFound&&h.templatify(t.notFound),pending:t.pending&&h.templatify(t.pending),header:t.header&&h.templatify(t.header),footer:t.footer&&h.templatify(t.footer),suggestion:t.suggestion||a};function a(o){return p("<div>").text(n(o))}}function r(t){return/^[_a-zA-Z0-9-]+$/.test(t)}}(),b=function(){function f(i,u){var e=this;i=i||{},i.node||p.error("node is required"),u.mixin(this),this.$node=p(i.node),this.query=null,this.datasets=h.map(i.datasets,s);function s(r){var t=e.$node.find(r.node).first();return r.node=t.length?t:p("<div>").appendTo(e.$node),new A(r,u)}}return h.mixin(f.prototype,_,{_onSelectableClick:function(i){this.trigger("selectableClicked",p(i.currentTarget))},_onRendered:function(i,u,e,s){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",u,e,s)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return h.every(this.datasets,i);function i(u){return u.isEmpty()}},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var i=this.getActiveSelectable();i&&i.removeClass(this.classes.cursor)},_ensureVisible:function(i){var u,e,s,r;u=i.position().top,e=u+i.outerHeight(!0),s=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),u<0?this.$node.scrollTop(s+u):r<e&&this.$node.scrollTop(s+(e-r))},bind:function(){var i=this,u;return u=h.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,u),h.each(this.datasets,function(e){e.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(i){this.$node.attr("dir",i)},selectableRelativeToCursor:function(i){var u,e,s,r;return e=this.getActiveSelectable(),u=this._getSelectables(),s=e?u.index(e):-1,r=s+i,r=(r+1)%(u.length+1)-1,r=r<-1?u.length-1:r,r===-1?null:u.eq(r)},setCursor:function(i){this._removeCursor(),(i=i&&i.first())&&(i.addClass(this.classes.cursor),this._ensureVisible(i))},getSelectableData:function(i){return i&&i.length?A.extractData(i):null},getActiveSelectable:function(){var i=this._getSelectables().filter(this.selectors.cursor).first();return i.length?i:null},getTopSelectable:function(){var i=this._getSelectables().first();return i.length?i:null},update:function(i){var u=i!==this.query;return u&&(this.query=i,h.each(this.datasets,e)),u;function e(s){s.update(i)}},empty:function(){h.each(this.datasets,i),this.query=null,this.$node.addClass(this.classes.empty);function i(u){u.clear()}},destroy:function(){this.$node.off(".tt"),this.$node=p("<div>"),h.each(this.datasets,i);function i(u){u.destroy()}}}),f}(),T=function(){var f=b.prototype;function i(){b.apply(this,[].slice.call(arguments,0))}return h.mixin(i.prototype,b.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),f.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),f.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),f._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),f._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(u){return this.$node.css(u==="ltr"?this.css.ltr:this.css.rtl),f.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),i}(),D=function(){function f(u,e){var s,r,t,n,a,o,c,l,d,g,m;u=u||{},u.input||p.error("missing input"),u.menu||p.error("missing menu"),u.eventBus||p.error("missing event bus"),e.mixin(this),this.eventBus=u.eventBus,this.minLength=h.isNumber(u.minLength)?u.minLength:1,this.input=u.input,this.menu=u.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=i(this,"activate","open","_onFocused"),r=i(this,"deactivate","_onBlurred"),t=i(this,"isActive","isOpen","_onEnterKeyed"),n=i(this,"isActive","isOpen","_onTabKeyed"),a=i(this,"isActive","_onEscKeyed"),o=i(this,"isActive","open","_onUpKeyed"),c=i(this,"isActive","open","_onDownKeyed"),l=i(this,"isActive","isOpen","_onLeftKeyed"),d=i(this,"isActive","isOpen","_onRightKeyed"),g=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",r,this).onSync("enterKeyed",t,this).onSync("tabKeyed",n,this).onSync("escKeyed",a,this).onSync("upKeyed",o,this).onSync("downKeyed",c,this).onSync("leftKeyed",l,this).onSync("rightKeyed",d,this).onSync("queryChanged",g,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return h.mixin(f.prototype,{_hacks:function(){var u,e;u=this.input.$input||p("<div>"),e=this.menu.$node||p("<div>"),u.on("blur.tt",function(s){var r,t,n;r=document.activeElement,t=e.is(r),n=e.has(r).length>0,h.isMsie()&&(t||n)&&(s.preventDefault(),s.stopImmediatePropagation(),h.defer(function(){u.focus()}))}),e.on("mousedown.tt",function(s){s.preventDefault()})},_onSelectableClicked:function(u,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(u,e,s,r){this._updateHint(),this.eventBus.trigger("render",s,r,e)},_onAsyncRequested:function(u,e,s){this.eventBus.trigger("asyncrequest",s,e)},_onAsyncCanceled:function(u,e,s){this.eventBus.trigger("asynccancel",s,e)},_onAsyncReceived:function(u,e,s){this.eventBus.trigger("asyncreceive",s,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(u,e){var s;(s=this.menu.getActiveSelectable())&&this.select(s)&&e.preventDefault()},_onTabKeyed:function(u,e){var s;(s=this.menu.getActiveSelectable())?this.select(s)&&e.preventDefault():(s=this.menu.getTopSelectable())&&this.autocomplete(s)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(u,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(u,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(u){return u=h.isString(u)?u:this.input.getQuery()||"",u.length>=this.minLength},_updateHint:function(){var u,e,s,r,t,n,a;u=this.menu.getTopSelectable(),e=this.menu.getSelectableData(u),s=this.input.getInputValue(),e&&!h.isBlankString(s)&&!this.input.hasOverflow()?(r=w.normalizeQuery(s),t=h.escapeRegExChars(r),n=new RegExp("^(?:"+t+")(.+$)","i"),a=n.exec(e.val),a&&this.input.setHint(s+a[1])):this.input.clearHint()},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return!this.isOpen()&&!this.eventBus.before("open")&&(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(u){this.input.setQuery(h.toStr(u))},getVal:function(){return this.input.getQuery()},select:function(u){var e=this.menu.getSelectableData(u);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(u){var e,s,r;return e=this.input.getQuery(),s=this.menu.getSelectableData(u),r=s&&e!==s.val,r&&!this.eventBus.before("autocomplete",s.obj)?(this.input.setQuery(s.val),this.eventBus.trigger("autocomplete",s.obj),!0):!1},moveCursor:function(u){var e,s,r,t,n;return e=this.input.getQuery(),s=this.menu.selectableRelativeToCursor(u),r=this.menu.getSelectableData(s),t=r?r.obj:null,n=this._minLengthMet()&&this.menu.update(e),!n&&!this.eventBus.before("cursorchange",t)?(this.menu.setCursor(s),r?this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",t),!0):!1},destroy:function(){this.input.destroy(),this.menu.destroy()}}),f;function i(u){var e=[].slice.call(arguments,1);return function(){var s=[].slice.call(arguments);h.each(e,function(r){return u[r].apply(u,s)})}}}();(function(){var f,i,u;f=p.fn.typeahead,i={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},u={initialize:function(o,c){var l;return c=h.isArray(c)?c:[].slice.call(arguments,1),o=o||{},l=k(o.classNames),this.each(d);function d(){var g,m,y,v,S,x,I,z,R,F,B;h.each(c,function(K){K.highlight=!!o.highlight}),g=p(this),m=p(l.html.wrapper),y=a(o.hint),v=a(o.menu),S=o.hint!==!1&&!y,x=o.menu!==!1&&!v,S&&(y=s(g,l)),x&&(v=p(l.html.menu).css(l.css.menu)),y&&y.val(""),g=r(g,l),(S||x)&&(m.css(l.css.wrapper),g.css(S?l.css.input:l.css.inputWithNoHint),g.wrap(m).parent().prepend(S?y:null).append(x?v:null)),B=x?T:b,I=new C({el:g}),z=new w({hint:y,input:g},l),R=new B({node:v,datasets:c},l),F=new D({input:z,menu:R,eventBus:I,minLength:o.minLength},l),g.data(i.www,l),g.data(i.typeahead,F)}},isEnabled:function(){var o;return e(this.first(),function(c){o=c.isEnabled()}),o},enable:function(){return e(this,function(o){o.enable()}),this},disable:function(){return e(this,function(o){o.disable()}),this},isActive:function(){var o;return e(this.first(),function(c){o=c.isActive()}),o},activate:function(){return e(this,function(o){o.activate()}),this},deactivate:function(){return e(this,function(o){o.deactivate()}),this},isOpen:function(){var o;return e(this.first(),function(c){o=c.isOpen()}),o},open:function(){return e(this,function(o){o.open()}),this},close:function(){return e(this,function(o){o.close()}),this},select:function(o){var c=!1,l=p(o);return e(this.first(),function(d){c=d.select(l)}),c},autocomplete:function(o){var c=!1,l=p(o);return e(this.first(),function(d){c=d.autocomplete(l)}),c},moveCursor:function(o){var c=!1;return e(this.first(),function(l){c=l.moveCursor(o)}),c},val:function(o){var c;return arguments.length?(e(this,function(l){l.setVal(o)}),this):(e(this.first(),function(l){c=l.getVal()}),c)},destroy:function(){return e(this,function(o,c){n(c),o.destroy()}),this}},p.fn.typeahead=function(o){return u[o]?u[o].apply(this,[].slice.call(arguments,1)):u.initialize.apply(this,arguments)},p.fn.typeahead.noConflict=function(){return p.fn.typeahead=f,this};function e(o,c){o.each(function(){var l=p(this),d;(d=l.data(i.typeahead))&&c(d,l)})}function s(o,c){return o.clone().addClass(c.classes.hint).removeData().css(c.css.hint).css(t(o)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function r(o,c){o.data(i.attrs,{dir:o.attr("dir"),autocomplete:o.attr("autocomplete"),spellcheck:o.attr("spellcheck"),style:o.attr("style")}),o.addClass(c.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!o.attr("dir")&&o.attr("dir","auto")}catch{}return o}function t(o){return{backgroundAttachment:o.css("background-attachment"),backgroundClip:o.css("background-clip"),backgroundColor:o.css("background-color"),backgroundImage:o.css("background-image"),backgroundOrigin:o.css("background-origin"),backgroundPosition:o.css("background-position"),backgroundRepeat:o.css("background-repeat"),backgroundSize:o.css("background-size")}}function n(o){var c,l;c=o.data(i.www),l=o.parent().filter(c.selectors.wrapper),h.each(o.data(i.attrs),function(d,g){h.isUndefined(d)?o.removeAttr(g):o.attr(g,d)}),o.removeData(i.typeahead).removeData(i.www).removeData(i.attr).removeClass(c.classes.input),l.length&&(o.detach().insertAfter(l),l.remove())}function a(o){var c,l;return c=h.isJQuery(o)||h.isElement(o),l=c?p(o).first():[],l.length?l:null}})()})})(H);
