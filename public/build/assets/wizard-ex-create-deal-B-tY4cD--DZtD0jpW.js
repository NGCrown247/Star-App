(function(){const l=document.querySelector("#dealDuration");l&&l.flatpickr({mode:"range"}),window.Helpers.initCustomOptionCheck();const t=document.querySelector("#wizard-create-deal");if(typeof t!==void 0&&t!==null){const o=t.querySelector("#wizard-create-deal-form"),s=o.querySelector("#deal-type"),d=o.querySelector("#deal-details"),c=o.querySelector("#deal-usage"),u=o.querySelector("#review-complete"),m=[].slice.call(o.querySelectorAll(".btn-next")),g=[].slice.call(o.querySelectorAll(".btn-prev"));let e=new Stepper(t,{linear:!0});const r=FormValidation.formValidation(s,{fields:{dealAmount:{validators:{notEmpty:{message:"Please enter amount"},numeric:{message:"The amount must be a number"}}},dealRegion:{validators:{notEmpty:{message:"Please select region"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){e.next()}),a=$("#dealRegion");a.length&&(a.wrap('<div class="position-relative"></div>'),a.select2({placeholder:"Select an region",dropdownParent:a.parent()}).on("change",function(){r.revalidateField("dealRegion")}));const p=FormValidation.formValidation(d,{fields:{dealTitle:{validators:{notEmpty:{message:"Please enter deal title"}}},dealCode:{validators:{notEmpty:{message:"Please enter deal code"},stringLength:{min:4,max:10,message:"The deal code must be more than 4 and less than 10 characters long"},regexp:{regexp:/^[A-Z0-9]+$/,message:"The deal code can only consist of capital alphabetical and number"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){e.next()}),i=$("#dealOfferedItem");i.length&&(i.wrap('<div class="position-relative"></div>'),i.select2({placeholder:"Select an offered item",dropdownParent:i.parent()}).on("change",function(){}));const w=FormValidation.formValidation(c,{fields:{},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-sm-6"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){e.next()}),f=FormValidation.formValidation(u,{fields:{},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-md-12"}),autoFocus:new FormValidation.plugins.AutoFocus,submitButton:new FormValidation.plugins.SubmitButton}}).on("core.form.valid",function(){alert("Submitted..!!")});m.forEach(n=>{n.addEventListener("click",F=>{switch(e._currentIndex){case 0:r.validate();break;case 1:p.validate();break;case 2:w.validate();break;case 3:f.validate();break}})}),g.forEach(n=>{n.addEventListener("click",F=>{switch(e._currentIndex){case 3:e.previous();break;case 2:e.previous();break;case 1:e.previous();break}})})}})();
